// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Inspection {
  id String @id @default(uuid())
  year_week String
  creatorId String
  startDate String
  endDate String
  inspectionType String
  province String 
  recommendedExecutor String
  TN String
  RTN String
  factoryShortName String
  orderNumber String
  orderCost String
  commentary String
  factoryAddress String
  managerKP String
  reportReceived String
}

model Factory {
  id String @id @default(uuid())
  fullName String?
  shortName String
  TN TN[]
  province String?
  address String?
  contact String?
  product String?
  // user User[]
}

model User {
  id String @id @default(uuid())
  fullName String
  shortName String
  TN TN[]
  userRights String[]
  // inspections Inspection[] @relation("managerKP")
}

model TN {
  id Int @id @default(autoincrement())
  name String
  number Int 
  RTN String
  reportEngineer String
  factories Factory[]
  manager User[]
}